{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Federico/Downloads/Coin-Flip-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Federico/Downloads/Coin-Flip-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Federico\\\\Downloads\\\\Coin-Flip-main\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from'react';import'./WaitingPlayers.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Player(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"WaitingPlayer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"WaitingPlayerText\",children:props.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"WaitingPlayerText\",children:[props.side,\" $\",props.bet]})]});}function WaitingPlayers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),WaitingPlayers=_useState2[0],setWaitingPlayers=_useState2[1];useEffect(function(){function loadPlayerData(){return _loadPlayerData.apply(this,arguments);}function _loadPlayerData(){_loadPlayerData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var players;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadWaitingPlayers();case 2:players=_context2.sent;setWaitingPlayers(players);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _loadPlayerData.apply(this,arguments);}loadPlayerData();var interval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var players;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loadWaitingPlayers();case 2:players=_context.sent;console.log(players);setWaitingPlayers(players);case 5:case\"end\":return _context.stop();}}},_callee);})),5000);return function(){return clearInterval(interval);};},[]);function loadWaitingPlayers(){return _loadWaitingPlayers.apply(this,arguments);}function _loadWaitingPlayers(){_loadWaitingPlayers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var players;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:players=[];_context3.next=3;return fetch('/findWaiting').then(function(res){return res.json();}).then(function(result){for(var i=0;i<result.players.length;i++){var player=result.players[i];players.push(/*#__PURE__*/_jsx(Player,{name:player.name,bet:player.bet,side:player.side},player.name));console.log(player);}});case 3:return _context3.abrupt(\"return\",players);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _loadWaitingPlayers.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"WaitingPlayers\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"WaitingPlayersTitle\",children:\"All Players\"}),/*#__PURE__*/_jsx(\"div\",{className:\"WaitingPlayersBody\",children:WaitingPlayers})]});};export default WaitingPlayers;","map":{"version":3,"sources":["C:/Users/Federico/Downloads/Coin-Flip-main/client/src/WaitingPlayers.js"],"names":["useEffect","useState","Player","props","name","side","bet","WaitingPlayers","setWaitingPlayers","loadPlayerData","loadWaitingPlayers","players","interval","setInterval","console","log","clearInterval","fetch","then","res","json","result","i","length","player","push"],"mappings":"kaAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,sBAAP,C,wFAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACnB,mBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,UAAoCA,KAAK,CAACC,IAA1C,EADJ,cAEI,aAAK,SAAS,CAAC,mBAAf,WAAoCD,KAAK,CAACE,IAA1C,MAAkDF,KAAK,CAACG,GAAxD,GAFJ,GADJ,CAMH,CAED,QAASC,CAAAA,cAAT,EAA0B,CACtB,cAA4CN,QAAQ,CAAC,EAAD,CAApD,wCAAOM,cAAP,eAAuBC,iBAAvB,eAEAR,SAAS,CAAC,UAAM,SACGS,CAAAA,cADH,oJACZ,2KACwBC,CAAAA,kBAAkB,EAD1C,QACQC,OADR,gBAEIH,iBAAiB,CAACG,OAAD,CAAjB,CAFJ,wDADY,iDAKZF,cAAc,GACd,GAAMG,CAAAA,QAAQ,CAAGC,WAAW,sEAAC,qKACLH,CAAAA,kBAAkB,EADb,QACrBC,OADqB,eAEzBG,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACAH,iBAAiB,CAACG,OAAD,CAAjB,CAHyB,sDAAD,GAIzB,IAJyB,CAA5B,CAMA,MAAO,kBAAMK,CAAAA,aAAa,CAACJ,QAAD,CAAnB,EAAP,CACD,CAbM,CAaJ,EAbI,CAAT,CAHsB,QAkBPF,CAAAA,kBAlBO,gKAkBtB,oJACQC,OADR,CACkB,EADlB,wBAEUM,CAAAA,KAAK,CAAC,cAAD,CAAL,CACDC,IADC,CACI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADP,EAEDF,IAFC,CAEI,SAACG,MAAD,CAAY,CACd,IAAK,GAAIC,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAAGD,MAAM,CAACV,OAAP,CAAeY,MAAjC,CAAyCD,CAAC,EAA1C,CAA8C,CAC1C,GAAIE,CAAAA,MAAM,CAAGH,MAAM,CAACV,OAAP,CAAeW,CAAf,CAAb,CACAX,OAAO,CAACc,IAAR,cAAa,KAAC,MAAD,EAAQ,IAAI,CAAED,MAAM,CAACpB,IAArB,CAA2B,GAAG,CAAEoB,MAAM,CAAClB,GAAvC,CAA4C,IAAI,CAAEkB,MAAM,CAACnB,IAAzD,EAAoEmB,MAAM,CAACpB,IAA3E,CAAb,EACAU,OAAO,CAACC,GAAR,CAAYS,MAAZ,EACH,CACJ,CARC,CAFV,yCAWWb,OAXX,0DAlBsB,qDAgCtB,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,yBADJ,cAEI,YAAK,SAAS,CAAC,oBAAf,UAAqCJ,cAArC,EAFJ,GADJ,CAMH,EAED,cAAeA,CAAAA,cAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport './WaitingPlayers.css';\n\nfunction Player(props) {\n    return (\n        <div className='WaitingPlayer'>\n            <div className='WaitingPlayerText'>{props.name}</div>\n            <div className='WaitingPlayerText'>{props.side} ${props.bet}</div>\n        </div>\n    )\n}\n\nfunction WaitingPlayers() {\n    const [WaitingPlayers, setWaitingPlayers] = useState([]);\n\n    useEffect(() => {\n        async function loadPlayerData() {\n            let players = await loadWaitingPlayers(); \n            setWaitingPlayers(players);\n        }\n        loadPlayerData();\n        const interval = setInterval(async () => {\n            let players = await loadWaitingPlayers(); \n            console.log(players); \n            setWaitingPlayers(players);\n        }, 5000);\n      \n        return () => clearInterval(interval);\n      }, []);\n\n    async function loadWaitingPlayers() {\n        let players = [];\n        await fetch('/findWaiting')\n            .then(res => res.json())\n            .then((result) => {\n                for (let i=0; i < result.players.length; i++) {\n                    let player = result.players[i];\n                    players.push(<Player name={player.name} bet={player.bet} side={player.side} key={player.name}/>);\n                    console.log(player);\n                }\n            });\n        return players;\n    }\n\n    return (\n        <div className=\"WaitingPlayers\">\n            <div className='WaitingPlayersTitle'>All Players</div>\n            <div className='WaitingPlayersBody'>{WaitingPlayers}</div>\n        </div>\n    );\n};\n\nexport default WaitingPlayers;"]},"metadata":{},"sourceType":"module"}