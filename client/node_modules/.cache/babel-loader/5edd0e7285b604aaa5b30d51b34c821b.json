{"ast":null,"code":"import _slicedToArray from\"/Users/joshcodrescu/Desktop/coin-flip/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import CoinFlip from\"./CoinFlip\";import{useLocation}from'react-router-dom';import{useEffect,useState}from\"react\";import backReady from'./coin-back-ready.svg';import backLoading from'./coin-back-loading.svg';import Player from'./Player';import'./Game.css';import Confetti from'react-confetti';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Game(){var location=useLocation();var _location$state=location.state,player1Name=_location$state.player1Name,player1Bet=_location$state.player1Bet,player1Side=_location$state.player1Side;var _useState=useState(player1Side==='Heads'?'Tails':'Heads'),_useState2=_slicedToArray(_useState,2),player2Side=_useState2[0],changePlayer2Side=_useState2[1];var _useState3=useState('loading'),_useState4=_slicedToArray(_useState3,2),flipState=_useState4[0],setFlipState=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState('Heads'),_useState8=_slicedToArray(_useState7,2),winningSide=_useState8[0],setWinningSide=_useState8[1];useEffect(function(){fetch('/gameWinner').then(function(res){return res.json();}).then(function(result){setWinningSide(result['winner']);});},[]);function reset(){setFlipState('loading');fetch('/gameWinner').then(function(res){return res.json();}).then(function(result){setWinningSide(result['winner']);});setResult(null);}return/*#__PURE__*/_jsxs(\"div\",{id:\"Game\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"GamePrize\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"GamePrizeText\",children:\"Cash Prize:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"GamePrizeAmount\",children:player1Bet*2})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"GameMain\",children:[/*#__PURE__*/_jsx(Player,{name:player1Name,side:player1Side,result:player1Side===result?'-winner':''}),/*#__PURE__*/_jsx(CoinFlip,{animation:result===null?flipState:'done',winningSide:winningSide,image:flipState==='loading'?backLoading:backReady}),player2Side===null?/*#__PURE__*/_jsx(\"div\",{style:{width:'300px',height:'150px'}}):/*#__PURE__*/_jsx(Player,{name:\"me\",side:player1Side==='Heads'?'Tails':'Heads',result:player2Side===result?'-winner':''})]}),/*#__PURE__*/_jsx(\"button\",{className:\"GameButton\",onClick:function onClick(){setTimeout(function(){setResult(winningSide);},5850);setFlipState('ready');},children:\"flip\"}),/*#__PURE__*/_jsx(\"button\",{className:\"GameButton\",onClick:function onClick(){reset();},children:\"reset\"}),result!==null?/*#__PURE__*/_jsx(Confetti,{confettiSource:{x:winningSide===player1Side?0:window.innerWidth-300,y:0,w:300,h:0}}):null,result!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"GameOverOptions\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"GameOverOption\",href:\"/flip\",children:\"Play Again\"}),/*#__PURE__*/_jsx(\"a\",{className:\"GameOverOption\",href:\"/\",children:\"Return to Home\"})]}):null]});}export default Game;","map":{"version":3,"sources":["/Users/joshcodrescu/Desktop/coin-flip/client/src/Game.js"],"names":["CoinFlip","useLocation","useEffect","useState","backReady","backLoading","Player","Confetti","Game","location","state","player1Name","player1Bet","player1Side","player2Side","changePlayer2Side","flipState","setFlipState","result","setResult","winningSide","setWinningSide","fetch","then","res","json","reset","width","height","setTimeout","x","window","innerWidth","y","w","h"],"mappings":"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","sourcesContent":["import CoinFlip from \"./CoinFlip\";\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport backReady from './coin-back-ready.svg';\nimport backLoading from './coin-back-loading.svg';\nimport Player from './Player';\nimport './Game.css';\nimport Confetti from 'react-confetti';\n\nfunction Game() {\n    const location = useLocation()\n    const { player1Name, player1Bet, player1Side } = location.state;\n    const [player2Side, changePlayer2Side] = useState(player1Side === 'Heads' ? 'Tails' : 'Heads');\n    const [flipState, setFlipState] = useState('loading');\n    const [result, setResult] = useState(null);\n    const [winningSide, setWinningSide] = useState('Heads');\n\n    useEffect(() => {\n        fetch('/gameWinner')\n            .then(res => res.json())\n            .then((result) => {\n                setWinningSide(result['winner']);\n            });\n    }, []);\n\n    function reset() {\n        setFlipState('loading');\n        fetch('/gameWinner')\n            .then(res => res.json())\n            .then((result) => {\n                setWinningSide(result['winner']);\n            });\n        setResult(null);\n    }\n\n    return (\n        <div id=\"Game\">\n            <div className=\"GamePrize\">\n                <div className=\"GamePrizeText\">Cash Prize:</div>\n                <div className=\"GamePrizeAmount\">{player1Bet * 2}</div>\n            </div>\n            <div id=\"GameMain\">\n                <Player name={player1Name} side={player1Side} result={player1Side === result ? '-winner' : ''}/>\n                <CoinFlip animation={result === null ? flipState : 'done'} winningSide={winningSide} image={flipState === 'loading' ? backLoading : backReady}/>\n                {player2Side === null ? <div style={{width: '300px', height: '150px'}}></div> : <Player name=\"me\" side={player1Side === 'Heads' ? 'Tails' : 'Heads'} result={player2Side === result ? '-winner' : ''}/>}\n            </div>\n            <button className='GameButton' onClick={() => {setTimeout(() => {setResult(winningSide)}, 5850); setFlipState('ready')}}>flip</button>\n            <button className='GameButton' onClick={() => {reset()}}>reset</button>\n            {result !== null ? <Confetti confettiSource={{ x: (winningSide === player1Side ? 0 : window.innerWidth - 300), y: 0, w: 300, h: 0 }}/> : null}\n            {result !== null ?  <div className=\"GameOverOptions\">\n                                    <a className=\"GameOverOption\" href=\"/flip\">Play Again</a>\n                                    <a className=\"GameOverOption\" href=\"/\">Return to Home</a>\n                                </div> \n                            : null\n            }\n        </div>\n    );\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}