{"ast":null,"code":"var _jsxFileName = \"/Users/joshcodrescu/Desktop/coin-flip/client/src/Game.js\",\n    _s = $RefreshSig$();\n\nimport CoinFlip from \"./CoinFlip\";\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport coinReady from './coin-back-ready.svg';\nimport coinLoading from './coin-back-loading.svg';\nimport Player from './Player';\nimport './Game.css';\nimport Confetti from 'react-confetti';\nimport { Navigate } from \"react-router-dom\";\n/*\n\np1: load in. fetch(/addPlayer, gameData)\n                .then(  () => fetch(/otherPlayerData, gameData)\n                                .then(  res => res.json()   )\n                                .then(  (result) => {\n                                    if (result.name === null) {\n                                        setTimeout();\n                                    }\n                                    else {\n                                        fetch(/decideWinner, gameData);\n                                    }\n                                        }) )\n\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game() {\n  _s();\n\n  const location = useLocation();\n  const [gameData, changeGameData] = useState(location.state ? location.state.game : null);\n  const [gameFinished, setGameFinished] = useState(false);\n\n  async function loadGame() {\n    console.log(\"loading...\");\n  }\n\n  useEffect(() => {\n    if (gameData === null) {\n      console.log(\"game page was reached incorrectly\");\n      return; // this is to not allow people onto this page if they haven't gone through the 'flip' page\n    } else if (!gameData.winner) {\n      setTimeout(loadGame, 3000); // this client is p1, so schedule the polling for p2 to join\n    } else if (gameData.winner) {\n      setTimeout(() => {\n        setGameFinished(true);\n      }, 6000);\n    }\n  }, []);\n  return gameData ? /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Game\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"GamePrize\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"GamePrizeText\",\n        children: \"Cash Prize:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"GamePrizeAmount\",\n        children: gameData.bet * 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"GameMain\",\n      children: [/*#__PURE__*/_jsxDEV(Player, {\n        name: gameData.p1.name,\n        side: gameData.p1.side,\n        result: gameFinished ? gameData.winningSide === gameData.p1.side ? '-winner' : '' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CoinFlip, {\n        animation: gameFinished ? 'done' : gameData.winningSide === null ? 'loading' : 'ready',\n        winningSide: gameData.winningSide,\n        image: gameData.winningSide === null ? coinLoading : coinReady\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), gameData.winningSide === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '300px',\n          height: '150px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 50\n      }, this) : /*#__PURE__*/_jsxDEV(Player, {\n        name: gameData.p2.name,\n        side: gameData.p2.side,\n        wallet: gameData.p2.wallet,\n        result: gameFinished ? gameData.winningSide === gameData.p2.side ? '-winner' : '' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 106\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), gameFinished ? /*#__PURE__*/_jsxDEV(Confetti, {\n      confettiSource: {\n        x: gameData.winningSide === gameData.p1.side ? 0 : window.innerWidth - 300,\n        y: 0,\n        w: 300,\n        h: 0\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }, this) : null, gameFinished ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"GameOverOptions\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"GameOverOption\",\n        href: \"/flip\",\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"GameOverOption\",\n        href: \"/\",\n        children: \"Return to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 30\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Game, \"2AzKiQ63Oz5oQKgggwy/e34wi90=\", false, function () {\n  return [useLocation];\n});\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/joshcodrescu/Desktop/coin-flip/client/src/Game.js"],"names":["CoinFlip","useLocation","useEffect","useState","coinReady","coinLoading","Player","Confetti","Navigate","Game","location","gameData","changeGameData","state","game","gameFinished","setGameFinished","loadGame","console","log","winner","setTimeout","bet","p1","name","side","winningSide","width","height","p2","wallet","x","window","innerWidth","y","w","h"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,YAAP;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACZ,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAM,CAACU,QAAD,EAAWC,cAAX,IAA6BT,QAAQ,CAACO,QAAQ,CAACG,KAAT,GAAiBH,QAAQ,CAACG,KAAT,CAAeC,IAAhC,GAAuC,IAAxC,CAA3C;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,KAAD,CAAhD;;AAEA,iBAAec,QAAf,GAA0B;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH;;AAEDjB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIS,QAAQ,KAAK,IAAjB,EAAuB;AACnBO,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACA,aAFmB,CAEX;AACX,KAHD,MAIK,IAAI,CAACR,QAAQ,CAACS,MAAd,EAAsB;AACvBC,MAAAA,UAAU,CAACJ,QAAD,EAAW,IAAX,CAAV,CADuB,CACK;AAC/B,KAFI,MAGA,IAAIN,QAAQ,CAACS,MAAb,EAAqB;AACtBC,MAAAA,UAAU,CAAC,MAAM;AAACL,QAAAA,eAAe,CAAC,IAAD,CAAf;AAAsB,OAA9B,EAAgC,IAAhC,CAAV;AACH;AACJ,GAXQ,EAWN,EAXM,CAAT;AAaA,SACKL,QAAQ,gBACT;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,kBAAkCA,QAAQ,CAACW,GAAT,GAAe;AAAjD;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAKI;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEX,QAAQ,CAACY,EAAT,CAAYC,IAA1B;AAAgC,QAAA,IAAI,EAAEb,QAAQ,CAACY,EAAT,CAAYE,IAAlD;AAAwD,QAAA,MAAM,EAAEV,YAAY,GAAIJ,QAAQ,CAACe,WAAT,KAAyBf,QAAQ,CAACY,EAAT,CAAYE,IAArC,GAA4C,SAA5C,GAAwD,EAA5D,GAAkE;AAA9I;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,QAAD;AAAU,QAAA,SAAS,EAAEV,YAAY,GAAG,MAAH,GAAaJ,QAAQ,CAACe,WAAT,KAAyB,IAAzB,GAAgC,SAAhC,GAA4C,OAA1F;AAAoG,QAAA,WAAW,EAAEf,QAAQ,CAACe,WAA1H;AAAuI,QAAA,KAAK,EAAEf,QAAQ,CAACe,WAAT,KAAyB,IAAzB,GAAgCrB,WAAhC,GAA8CD;AAA5L;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGKO,QAAQ,CAACe,WAAT,KAAyB,IAAzB,gBAAgC;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,OAAR;AAAiBC,UAAAA,MAAM,EAAE;AAAzB;AAAZ;AAAA;AAAA;AAAA;AAAA,cAAhC,gBAAwF,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEjB,QAAQ,CAACkB,EAAT,CAAYL,IAA1B;AAAgC,QAAA,IAAI,EAAEb,QAAQ,CAACkB,EAAT,CAAYJ,IAAlD;AAAwD,QAAA,MAAM,EAAEd,QAAQ,CAACkB,EAAT,CAAYC,MAA5E;AAAoF,QAAA,MAAM,EAAEf,YAAY,GAAIJ,QAAQ,CAACe,WAAT,KAAyBf,QAAQ,CAACkB,EAAT,CAAYJ,IAArC,GAA4C,SAA5C,GAAwD,EAA5D,GAAkE;AAA1K;AAAA;AAAA;AAAA;AAAA,cAH7F;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,EAUKV,YAAY,gBAAG,QAAC,QAAD;AAAU,MAAA,cAAc,EAAE;AAAEgB,QAAAA,CAAC,EAAGpB,QAAQ,CAACe,WAAT,KAAyBf,QAAQ,CAACY,EAAT,CAAYE,IAArC,GAA4C,CAA5C,GAAgDO,MAAM,CAACC,UAAP,GAAoB,GAA1E;AAAgFC,QAAAA,CAAC,EAAE,CAAnF;AAAsFC,QAAAA,CAAC,EAAE,GAAzF;AAA8FC,QAAAA,CAAC,EAAE;AAAjG;AAA1B;AAAA;AAAA;AAAA;AAAA,YAAH,GAAuI,IAVxJ,EAWKrB,YAAY,gBAAI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACO;AAAG,QAAA,SAAS,EAAC,gBAAb;AAA8B,QAAA,IAAI,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADP,eAEO;AAAG,QAAA,SAAS,EAAC,gBAAb;AAA8B,QAAA,IAAI,EAAC,GAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFP;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,GAIC,IAflB;AAAA;AAAA;AAAA;AAAA;AAAA,UADS,gBAmBP,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UApBN;AAsBH;;GA5CQN,I;UACYR,W;;;KADZQ,I;AA8CT,eAAeA,IAAf","sourcesContent":["import CoinFlip from \"./CoinFlip\";\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport coinReady from './coin-back-ready.svg';\nimport coinLoading from './coin-back-loading.svg';\nimport Player from './Player';\nimport './Game.css';\nimport Confetti from 'react-confetti';\nimport { Navigate } from \"react-router-dom\";\n\n/*\n\np1: load in. fetch(/addPlayer, gameData)\n                .then(  () => fetch(/otherPlayerData, gameData)\n                                .then(  res => res.json()   )\n                                .then(  (result) => {\n                                    if (result.name === null) {\n                                        setTimeout();\n                                    }\n                                    else {\n                                        fetch(/decideWinner, gameData);\n                                    }\n                                        }) )\n\n*/\n\nfunction Game() {\n    const location = useLocation();\n    const [gameData, changeGameData] = useState(location.state ? location.state.game : null);\n    const [gameFinished, setGameFinished] = useState(false);\n\n    async function loadGame() {\n        console.log(\"loading...\")\n    }\n\n    useEffect(() => {\n        if (gameData === null) {\n            console.log(\"game page was reached incorrectly\");\n            return; // this is to not allow people onto this page if they haven't gone through the 'flip' page\n        }\n        else if (!gameData.winner) { \n            setTimeout(loadGame, 3000); // this client is p1, so schedule the polling for p2 to join\n        }\n        else if (gameData.winner) {\n            setTimeout(() => {setGameFinished(true)}, 6000);\n        }\n    }, []);\n\n    return (\n        (gameData ?\n        <div id=\"Game\">\n            <div className=\"GamePrize\">\n                <div className=\"GamePrizeText\">Cash Prize:</div>\n                <div className=\"GamePrizeAmount\">{gameData.bet * 2}</div>\n            </div>\n            <div id=\"GameMain\">\n                <Player name={gameData.p1.name} side={gameData.p1.side} result={gameFinished ? (gameData.winningSide === gameData.p1.side ? '-winner' : '') : ''}/>\n                <CoinFlip animation={gameFinished ? 'done' : (gameData.winningSide === null ? 'loading' : 'ready')} winningSide={gameData.winningSide} image={gameData.winningSide === null ? coinLoading : coinReady}/>\n                {gameData.winningSide === null ? <div style={{width: '300px', height: '150px'}}></div> : <Player name={gameData.p2.name} side={gameData.p2.side} wallet={gameData.p2.wallet} result={gameFinished ? (gameData.winningSide === gameData.p2.side ? '-winner' : '') : ''}/>}\n            </div>\n            {gameFinished ? <Confetti confettiSource={{ x: (gameData.winningSide === gameData.p1.side ? 0 : window.innerWidth - 300), y: 0, w: 300, h: 0 }}/> : null}\n            {gameFinished ?  <div className=\"GameOverOptions\">\n                                    <a className=\"GameOverOption\" href=\"/flip\">Play Again</a>\n                                    <a className=\"GameOverOption\" href=\"/\">Return to Home</a>\n                                </div> \n                        : null\n            }\n        </div>\n        : <Navigate to=\"/\" />)\n    );\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}